"use strict";(self.webpackChunkworkshop_client=self.webpackChunkworkshop_client||[]).push([[220],{220:(e,s,a)=>{a.r(s),a.d(s,{default:()=>c});var r=a(434),l=a(472),t=a(43),i=a(216),n=a(981),d=a(235),o=a(579);const c=()=>{const[e,s]=(0,t.useState)(""),[a,c]=(0,t.useState)(""),[m,u]=(0,t.useState)(""),[h,p]=(0,t.useState)(""),[x,g]=(0,t.useState)(!1),j=(0,i.Zp)();return(0,o.jsxs)(o.Fragment,{children:[x&&(0,o.jsx)(d.A,{}),(0,o.jsx)("div",{className:"login-page",children:(0,o.jsx)("div",{className:"login-wrapper",children:(0,o.jsxs)("div",{className:"login-card",children:[(0,o.jsx)("h2",{className:"form-title text-red",children:"Admin Login"}),(0,o.jsxs)("form",{onSubmit:async s=>{s.preventDefault(),u(""),p(""),g(!0);try{const s=(await(0,r.x9)(n.j2,e,a)).user.uid,t=(0,l.H9)(n.db,"users",s),i=await(0,l.x7)(t);if(!i.exists())throw new Error("User record not found in Firestore.");if("admin"!==i.data().role)throw new Error("Access denied. Admins only.");p("\u2705 Logged in successfully as admin!"),setTimeout((()=>j("/dashboard")),1500)}catch(t){u(t.message||"Login failed. Please try again.")}finally{g(!1)}},noValidate:!0,children:[(0,o.jsxs)("div",{className:"mb-3",children:[(0,o.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email address"}),(0,o.jsx)("input",{type:"email",id:"email",className:"form-control",placeholder:"Enter email",value:e,onChange:e=>s(e.target.value),required:!0})]}),(0,o.jsxs)("div",{className:"mb-3",children:[(0,o.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),(0,o.jsx)("input",{type:"password",id:"password",className:"form-control",placeholder:"Enter password",value:a,onChange:e=>c(e.target.value),required:!0})]}),m&&(0,o.jsx)("div",{className:"alert alert-danger",children:m}),h&&(0,o.jsx)("div",{className:"alert alert-success",children:h}),(0,o.jsx)("button",{type:"submit",className:"btn btn-primary w-100",disabled:x,children:"Login"})]})]})})})]})}}}]);
//# sourceMappingURL=220.a9034706.chunk.js.map