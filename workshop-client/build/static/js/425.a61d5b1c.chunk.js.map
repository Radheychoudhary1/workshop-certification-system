{"version":3,"file":"static/js/425.a61d5b1c.chunk.js","mappings":"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","sources":["../node_modules/uuid/dist/esm-browser/rng.js","../node_modules/uuid/dist/esm-browser/regex.js","../node_modules/uuid/dist/esm-browser/validate.js","../node_modules/uuid/dist/esm-browser/stringify.js","../node_modules/uuid/dist/esm-browser/v4.js","pages/FormCreator.tsx"],"sourcesContent":["// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","import React, { useState } from 'react';\nimport {\n  addDoc,\n  collection,\n  doc,\n  updateDoc,\n  serverTimestamp,\n} from 'firebase/firestore';\nimport { db } from '../firebase';\nimport { v4 as uuidv4 } from 'uuid';\nimport { useNavigate } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport Loader from '../components/Loader';\n\nconst FormCreator: React.FC = () => {\n  const navigate = useNavigate();\n  const [collegeName, setCollegeName] = useState('');\n  const [workshopName, setWorkshopName] = useState('');\n  const [dateTime, setDateTime] = useState('');\n  const [instructions, setInstructions] = useState('');\n  const [active, setActive] = useState(false);\n  const [linkId, setLinkId] = useState<string | null>(null);\n  const [formId, setFormId] = useState<string | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [copiedLink, setCopiedLink] = useState('');\n  const isFormValid = collegeName && workshopName && dateTime;\n\n  const handleSaveDraft = async () => {\n    if (!isFormValid) return;\n    setLoading(true);\n    try {\n      if (!formId) {\n        const docRef = await addDoc(collection(db, 'workshops'), {\n          collegeName,\n          workshopName,\n          dateTime,\n          instructions,\n          active: false,\n          linkId: null,\n          createdAt: serverTimestamp(),\n        });\n        setFormId(docRef.id);\n        toast.success('Draft saved successfully!');\n      } else {\n        const docRef = doc(db, 'workshops', formId);\n        await updateDoc(docRef, {\n          collegeName,\n          workshopName,\n          dateTime,\n          instructions,\n        });\n        toast.success('Draft updated successfully!');\n      }\n    } catch (err) {\n      console.error(err);\n      toast.error('Failed to save draft. Try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleToggleActive = async () => {\n    setLoading(true);\n    try {\n      if (!formId) await handleSaveDraft();\n\n      const docRef = doc(db, 'workshops', formId!);\n      let newLinkId = linkId;\n\n      if (!active) {\n        newLinkId = uuidv4();\n        setLinkId(newLinkId);\n      }\n\n      await updateDoc(docRef, {\n        active: !active,\n        linkId: newLinkId,\n        updatedAt: serverTimestamp(),\n      });\n\n      setActive(!active);\n      toast.success(`Form ${!active ? 'activated' : 'deactivated'}!`);\n    } catch (err) {\n      console.error(err);\n      toast.error('Failed to update status.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCopy = (text: string) => {\n    navigator.clipboard.writeText(text);\n    setCopiedLink(text);\n    setTimeout(() => setCopiedLink(''), 2000);\n  };\n\n  return (\n    <div className=\"container py-5\">\n      {/* Header */}\n      <div className=\"d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center bg-dark rounded-3 px-4 py-3 shadow mb-4 gap-3\">\n        <h1 className=\"h4 m-0 text-white fw-bold\">\n          🎯 Create Workshop Feedback Form\n        </h1>\n        <button\n          className=\"btn btn-warning text-dark fw-semibold\"\n          onClick={() => navigate('/dashboard')}\n        >\n          ← Back to Dashboard\n        </button>\n      </div>\n\n      {/* Form Container Card */}\n      <div className=\"bg-white rounded-4 shadow-sm p-4 border border-light-subtle\">\n        {loading && <Loader />}\n\n        <div className=\"mb-3\">\n          <label className=\"form-label fw-semibold text-dark\">College Name</label>\n          <input\n            type=\"text\"\n            className=\"form-control bg-white text-dark\"\n            value={collegeName}\n            onChange={(e) => setCollegeName(e.target.value)}\n            required\n          />\n        </div>\n\n        <div className=\"mb-3\">\n          <label className=\"form-label fw-semibold text-dark\">Workshop Name</label>\n          <input\n            type=\"text\"\n            className=\"form-control bg-white text-dark\"\n            value={workshopName}\n            onChange={(e) => setWorkshopName(e.target.value)}\n            required\n          />\n        </div>\n\n        <div className=\"mb-3\">\n          <label className=\"form-label fw-semibold text-dark\">Date & Time</label>\n          <input\n            type=\"datetime-local\"\n            className=\"form-control bg-white text-dark\"\n            value={dateTime}\n            onChange={(e) => setDateTime(e.target.value)}\n            required\n          />\n        </div>\n\n        <div className=\"mb-4\">\n          <label className=\"form-label fw-semibold text-dark\">Instructions</label>\n          <textarea\n            className=\"form-control bg-white text-dark\"\n            rows={4}\n            value={instructions}\n            onChange={(e) => setInstructions(e.target.value)}\n            placeholder=\"Enter instructions for attendees\"\n          />\n        </div>\n\n        {/* Action Buttons */}\n        <div className=\"d-flex flex-wrap gap-3 mb-4\">\n          <button\n            className=\"btn btn-warning text-dark fw-semibold\"\n            onClick={handleSaveDraft}\n            disabled={loading || !isFormValid}\n          >\n            Save Draft\n          </button>\n\n          <button\n            className={`btn fw-semibold ${active ? 'btn-danger' : 'btn-success'}`}\n            onClick={handleToggleActive}\n            disabled={loading || !formId}\n          >\n            {active ? 'Deactivate Form' : 'Activate Form'}\n          </button>\n        </div>\n\n        {/* Private Link (Admin) */}\n        {active && linkId && (\n          <div className=\"mb-4\">\n            <p className=\"mb-2 text-success fw-semibold\">✅ Admin Feedback Form (Private):</p>\n            <div className=\"input-group\">\n              <input\n                type=\"text\"\n                className=\"form-control bg-white text-dark\"\n                readOnly\n                value={`${window.location.origin}/feedback/${linkId}`}\n              />\n              <button\n                className=\"btn btn-outline-warning\"\n                onClick={() =>\n                  handleCopy(`${window.location.origin}/feedback/${linkId}`)\n                }\n              >\n                {copiedLink === `${window.location.origin}/feedback/${linkId}` ? 'Copied' : 'Copy'}\n              </button>\n            </div>\n          </div>\n        )}\n\n        {/* Public Link (Student) */}\n        {formId && (\n          <div>\n            <p className=\"mb-2 text-info fw-semibold\">🎓 Student Feedback Form (Public):</p>\n            <div className=\"input-group\">\n              <input\n                type=\"text\"\n                className=\"form-control bg-white text-dark\"\n                readOnly\n                value={`${window.location.origin}/form/${formId}`}\n              />\n              <button\n                className=\"btn btn-outline-warning\"\n                onClick={() =>\n                  handleCopy(`${window.location.origin}/form/${formId}`)\n                }\n              >\n                {copiedLink === `${window.location.origin}/form/${formId}` ? 'Copied' : 'Copy'}\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default FormCreator;\n"],"names":["getRandomValues","rnds8","Uint8Array","rng","crypto","bind","msCrypto","Error","uuid","REGEX","test","byteToHex","i","push","toString","substr","arr","offset","arguments","length","undefined","toLowerCase","validate","TypeError","options","buf","rnds","random","stringify","FormCreator","navigate","useNavigate","collegeName","setCollegeName","useState","workshopName","setWorkshopName","dateTime","setDateTime","instructions","setInstructions","active","setActive","linkId","setLinkId","formId","setFormId","loading","setLoading","copiedLink","setCopiedLink","isFormValid","handleSaveDraft","async","docRef","doc","db","updateDoc","toast","success","addDoc","collection","createdAt","serverTimestamp","id","err","console","error","handleCopy","text","navigator","clipboard","writeText","setTimeout","_jsxs","className","children","_jsx","onClick","Loader","type","value","onChange","e","target","required","rows","placeholder","disabled","concat","newLinkId","uuidv4","updatedAt","readOnly","window","location","origin"],"sourceRoot":""}