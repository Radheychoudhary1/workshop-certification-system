"use strict";(self.webpackChunkworkshop_client=self.webpackChunkworkshop_client||[]).push([[260],{260:(e,t,s)=>{s.r(t),s.d(t,{default:()=>h});var a=s(555),i=s(43),r=s(216),l=s(981),o=s(472),n=s(638),c=s(406),d=s(579);const h=()=>{const{id:e}=(0,r.g)(),[t,s]=(0,i.useState)(null),[h,m]=(0,i.useState)(!0),[x,u]=(0,i.useState)(!1),[b,p]=(0,i.useState)(""),[g,j]=(0,i.useState)(""),[v,w]=(0,i.useState)(!1);(0,i.useEffect)((()=>{(async()=>{try{if(!e)return;const t=(0,o.P)((0,o.rJ)(l.db,"workshops"),(0,o._M)("linkId","==",e)),i=await(0,o.GG)(t);if(!i.empty){const e=i.docs[0];e.exists()&&e.data().active&&s((0,a.A)((0,a.A)({},e.data()),{},{docId:e.id}))}}catch(t){console.error("Error loading workshop:",t)}finally{m(!1)}})()}),[e]);return h?null:t?x?(0,d.jsx)("div",{className:"d-flex justify-content-center align-items-center vh-100 bg-light",children:(0,d.jsxs)("div",{className:"text-center p-5 rounded-4 shadow-sm bg-white border-0",style:{maxWidth:"600px"},children:[(0,d.jsx)("div",{className:"d-inline-flex justify-content-center align-items-center bg-success text-white rounded-circle mb-3",style:{width:"60px",height:"60px",fontSize:"30px"},children:"\u2713"}),(0,d.jsx)("h4",{className:"fw-bold text-dark",children:"Feedback Submitted"}),(0,d.jsx)("p",{className:"text-secondary",children:"Thanks for your valuable feedback!"})]})}):(0,d.jsxs)("div",{className:"bg-light min-vh-100",children:[(0,d.jsx)("div",{className:"w-100 position-relative",style:{height:"220px",backgroundImage:"url(".concat(c,")"),backgroundSize:"cover",backgroundPosition:"center",borderBottom:"5px solid var(--bs-warning)"},children:(0,d.jsxs)("div",{className:"position-absolute translate-middle text-white text-center px-3 top-40 start-50",children:[(0,d.jsx)("h2",{className:"fw-bold",style:{textShadow:"1px 1px 4px #000"},children:"Workshop Feedback"}),(0,d.jsx)("p",{className:"text-white",style:{textShadow:"1px 1px 4px #000"},children:"Please take a moment to share your thoughts."})]})}),(0,d.jsx)("div",{className:"container",style:{marginTop:"-90px"},children:(0,d.jsx)("div",{className:"card shadow-sm border-0 p-4 rounded-4 bg-white mx-auto",style:{maxWidth:"600px"},children:(0,d.jsxs)("div",{className:"card-body",children:[(0,d.jsxs)("div",{className:"d-flex justify-content-between align-items-start mb-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"fw-bold text-dark mb-1",children:t.workshopName}),(0,d.jsxs)("p",{className:"text-muted mb-1",children:["at ",t.collegeName]}),(0,d.jsx)("p",{className:"text-muted mb-0",children:new Date(t.dateTime).toLocaleString()})]}),(0,d.jsx)("button",{className:"btn btn-outline-dark btn-sm",onClick:()=>{navigator.clipboard.writeText(window.location.href),w(!0),n.oR.success("Link copied to clipboard!"),setTimeout((()=>w(!1)),2e3)},children:v?"Copied!":"Copy Link"})]}),(0,d.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),b&&null!==t&&void 0!==t&&t.docId)try{await(0,o.gS)((0,o.rJ)(l.db,"workshops",t.docId,"responses"),{rating:b,suggestion:g,submittedAt:(0,o.O5)()}),u(!0)}catch(s){console.error("Error submitting feedback:",s)}},children:[(0,d.jsxs)("div",{className:"mb-3",children:[(0,d.jsx)("label",{className:"form-label fw-medium",children:"Rate this workshop"}),(0,d.jsxs)("select",{className:"form-select border-dark",value:b,onChange:e=>p(e.target.value),required:!0,children:[(0,d.jsx)("option",{value:"",children:"Choose rating"}),(0,d.jsx)("option",{value:"5",children:"Excellent (5)"}),(0,d.jsx)("option",{value:"4",children:"Good (4)"}),(0,d.jsx)("option",{value:"3",children:"Average (3)"}),(0,d.jsx)("option",{value:"2",children:"Poor (2)"}),(0,d.jsx)("option",{value:"1",children:"Very Poor (1)"})]})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("label",{className:"form-label fw-medium",children:"Suggestions (optional)"}),(0,d.jsx)("textarea",{className:"form-control border-dark",placeholder:"Any improvements or feedback?",rows:4,value:g,onChange:e=>j(e.target.value)})]}),(0,d.jsx)("button",{type:"submit",className:"btn btn-warning fw-bold text-black w-100",children:"Submit Feedback"})]})]})})})]}):(0,d.jsx)("div",{className:"container py-5 text-center",children:(0,d.jsx)("h5",{className:"text-danger",children:"Invalid or Inactive Feedback Form"})})}},406:(e,t,s)=>{e.exports=s.p+"static/media/login-bg.d975e901572dbf1d14f1.jpg"}}]);
//# sourceMappingURL=260.344786ab.chunk.js.map