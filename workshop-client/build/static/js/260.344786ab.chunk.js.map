{"version":3,"file":"static/js/260.344786ab.chunk.js","mappings":"yNAcA,MAkKA,EAlK+BA,KAC7B,MAAM,GAAEC,IAAOC,EAAAA,EAAAA,MACRC,EAAUC,IAAeC,EAAAA,EAAAA,UAAc,OACvCC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,IAChCG,EAAWC,IAAgBJ,EAAAA,EAAAA,WAAS,IACpCK,EAAQC,IAAaN,EAAAA,EAAAA,UAAS,KAC9BO,EAAYC,IAAiBR,EAAAA,EAAAA,UAAS,KACtCS,EAAQC,IAAaV,EAAAA,EAAAA,WAAS,IAErCW,EAAAA,EAAAA,YAAU,KACcC,WACpB,IACE,IAAKhB,EAAI,OACT,MAAMiB,GAAIC,EAAAA,EAAAA,IAAMC,EAAAA,EAAAA,IAAWC,EAAAA,GAAI,cAAcC,EAAAA,EAAAA,IAAM,SAAU,KAAMrB,IAC7DsB,QAAiBC,EAAAA,EAAAA,IAAQN,GAE/B,IAAKK,EAASE,MAAO,CACnB,MAAMC,EAAMH,EAASI,KAAK,GACtBD,EAAIE,UAAYF,EAAIG,OAAOC,QAC7B1B,GAAW2B,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIL,EAAIG,QAAM,IAAEG,MAAON,EAAIzB,KAE5C,CACF,CAAE,MAAOgC,GACPC,QAAQD,MAAM,0BAA2BA,EAC3C,CAAC,QACC1B,GAAW,EACb,GAGF4B,KACC,CAAClC,IAyBJ,OAAIK,EAAgB,KAEfH,EAQDK,GAEA4B,EAAAA,EAAAA,KAAA,OAAKC,UAAU,mEAAkEC,UAC/EC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,wDAAwDG,MAAO,CAAEC,SAAU,SAAUH,SAAA,EAClGF,EAAAA,EAAAA,KAAA,OACEC,UAAU,oGACVG,MAAO,CAAEE,MAAO,OAAQC,OAAQ,OAAQC,SAAU,QAASN,SAC5D,YAGDF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,oBAAmBC,SAAC,wBAClCF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,iBAAgBC,SAAC,6CAOpCC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,sBAAqBC,SAAA,EAElCF,EAAAA,EAAAA,KAAA,OACEC,UAAU,0BACVG,MAAO,CACLG,OAAQ,QACRE,gBAAgB,OAADC,OAASC,EAAW,KACnCC,eAAgB,QAChBC,mBAAoB,SACpBC,aAAc,+BACdZ,UAEFC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,iFAAgFC,SAAA,EAC7FF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,UAAUG,MAAO,CAAEW,WAAY,oBAAqBb,SAAC,uBAGnEF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,aAAaG,MAAO,CAAEW,WAAY,oBAAqBb,SAAC,uDAOzEF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,YAAYG,MAAO,CAAEY,UAAW,SAAUd,UACvDF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,yDAAyDG,MAAO,CAAEC,SAAU,SAAUH,UACnGC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,YAAWC,SAAA,EACxBC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,wDAAuDC,SAAA,EACpEC,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,yBAAwBC,SAAEnC,EAASkD,gBACjDd,EAAAA,EAAAA,MAAA,KAAGF,UAAU,kBAAiBC,SAAA,CAAC,MAAInC,EAASmD,gBAC5ClB,EAAAA,EAAAA,KAAA,KAAGC,UAAU,kBAAiBC,SAC3B,IAAIiB,KAAKpD,EAASqD,UAAUC,uBAGjCrB,EAAAA,EAAAA,KAAA,UAAQC,UAAU,8BAA8BqB,QArErCC,KACrBC,UAAUC,UAAUC,UAAUC,OAAOC,SAASC,MAC9ClD,GAAU,GACVmD,EAAAA,GAAMC,QAAQ,6BACdC,YAAW,IAAMrD,GAAU,IAAQ,MAiE+CuB,SACrExB,EAAS,UAAY,kBAI1ByB,EAAAA,EAAAA,MAAA,QAAM8B,SA1FKpD,UAEnB,GADAqD,EAAEC,iBACG7D,GAAmB,OAARP,QAAQ,IAARA,GAAAA,EAAU6B,MAE1B,UACQwC,EAAAA,EAAAA,KAAOpD,EAAAA,EAAAA,IAAWC,EAAAA,GAAI,YAAalB,EAAS6B,MAAO,aAAc,CACrEtB,SACAE,aACA6D,aAAaC,EAAAA,EAAAA,QAEfjE,GAAa,EACf,CAAE,MAAOwB,GACPC,QAAQD,MAAM,6BAA8BA,EAC9C,GA6EqCK,SAAA,EAC3BC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,OAAMC,SAAA,EACnBF,EAAAA,EAAAA,KAAA,SAAOC,UAAU,uBAAsBC,SAAC,wBACxCC,EAAAA,EAAAA,MAAA,UACEF,UAAU,0BACVsC,MAAOjE,EACPkE,SAAWN,GAAM3D,EAAU2D,EAAEO,OAAOF,OACpCG,UAAQ,EAAAxC,SAAA,EAERF,EAAAA,EAAAA,KAAA,UAAQuC,MAAM,GAAErC,SAAC,mBACjBF,EAAAA,EAAAA,KAAA,UAAQuC,MAAM,IAAGrC,SAAC,mBAClBF,EAAAA,EAAAA,KAAA,UAAQuC,MAAM,IAAGrC,SAAC,cAClBF,EAAAA,EAAAA,KAAA,UAAQuC,MAAM,IAAGrC,SAAC,iBAClBF,EAAAA,EAAAA,KAAA,UAAQuC,MAAM,IAAGrC,SAAC,cAClBF,EAAAA,EAAAA,KAAA,UAAQuC,MAAM,IAAGrC,SAAC,yBAItBC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,OAAMC,SAAA,EACnBF,EAAAA,EAAAA,KAAA,SAAOC,UAAU,uBAAsBC,SAAC,4BACxCF,EAAAA,EAAAA,KAAA,YACEC,UAAU,2BACV0C,YAAY,gCACZC,KAAM,EACNL,MAAO/D,EACPgE,SAAWN,GAAMzD,EAAcyD,EAAEO,OAAOF,aAI5CvC,EAAAA,EAAAA,KAAA,UAAQ6C,KAAK,SAAS5C,UAAU,2CAA0CC,SAAC,kCA5FnFF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,6BAA4BC,UACzCF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,cAAaC,SAAC,wC","sources":["pages/FeedbackForm.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { db } from '../firebase';\nimport {\n  collection,\n  query,\n  where,\n  getDocs,\n  addDoc,\n  serverTimestamp,\n} from 'firebase/firestore';\nimport { toast } from 'react-toastify';\nimport bannerImage from '../assets/images/login-bg.jpg'; // Ensure this path is correct\n\nconst FeedbackForm: React.FC = () => {\n  const { id } = useParams();\n  const [workshop, setWorkshop] = useState<any>(null);\n  const [loading, setLoading] = useState(true);\n  const [submitted, setSubmitted] = useState(false);\n  const [rating, setRating] = useState('');\n  const [suggestion, setSuggestion] = useState('');\n  const [copied, setCopied] = useState(false);\n\n  useEffect(() => {\n    const fetchWorkshop = async () => {\n      try {\n        if (!id) return;\n        const q = query(collection(db, 'workshops'), where('linkId', '==', id));\n        const snapshot = await getDocs(q);\n\n        if (!snapshot.empty) {\n          const doc = snapshot.docs[0];\n          if (doc.exists() && doc.data().active) {\n            setWorkshop({ ...doc.data(), docId: doc.id });\n          }\n        }\n      } catch (error) {\n        console.error('Error loading workshop:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchWorkshop();\n  }, [id]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!rating || !workshop?.docId) return;\n\n    try {\n      await addDoc(collection(db, 'workshops', workshop.docId, 'responses'), {\n        rating,\n        suggestion,\n        submittedAt: serverTimestamp(),\n      });\n      setSubmitted(true);\n    } catch (error) {\n      console.error('Error submitting feedback:', error);\n    }\n  };\n\n  const handleCopyLink = () => {\n    navigator.clipboard.writeText(window.location.href);\n    setCopied(true);\n    toast.success('Link copied to clipboard!');\n    setTimeout(() => setCopied(false), 2000);\n  };\n\n  if (loading) return null;\n\n  if (!workshop) {\n    return (\n      <div className=\"container py-5 text-center\">\n        <h5 className=\"text-danger\">Invalid or Inactive Feedback Form</h5>\n      </div>\n    );\n  }\n\n  if (submitted) {\n    return (\n      <div className=\"d-flex justify-content-center align-items-center vh-100 bg-light\">\n        <div className=\"text-center p-5 rounded-4 shadow-sm bg-white border-0\" style={{ maxWidth: '600px' }}>\n          <div\n            className=\"d-inline-flex justify-content-center align-items-center bg-success text-white rounded-circle mb-3\"\n            style={{ width: '60px', height: '60px', fontSize: '30px' }}\n          >\n            âœ“\n          </div>\n          <h4 className=\"fw-bold text-dark\">Feedback Submitted</h4>\n          <p className=\"text-secondary\">Thanks for your valuable feedback!</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-light min-vh-100\">\n      {/* Banner/Header */}\n      <div\n        className=\"w-100 position-relative\"\n        style={{\n          height: '220px',\n          backgroundImage: `url(${bannerImage})`,\n          backgroundSize: 'cover',\n          backgroundPosition: 'center',\n          borderBottom: '5px solid var(--bs-warning)',\n        }}\n      >\n        <div className=\"position-absolute translate-middle text-white text-center px-3 top-40 start-50\">\n          <h2 className=\"fw-bold\" style={{ textShadow: '1px 1px 4px #000' }}>\n            Workshop Feedback\n          </h2>\n          <p className=\"text-white\" style={{ textShadow: '1px 1px 4px #000' }}>\n            Please take a moment to share your thoughts.\n          </p>\n        </div>\n      </div>\n\n      {/* Feedback Card */}\n      <div className=\"container\" style={{ marginTop: '-90px' }}>\n        <div className=\"card shadow-sm border-0 p-4 rounded-4 bg-white mx-auto\" style={{ maxWidth: '600px' }}>\n          <div className=\"card-body\">\n            <div className=\"d-flex justify-content-between align-items-start mb-3\">\n              <div>\n                <h4 className=\"fw-bold text-dark mb-1\">{workshop.workshopName}</h4>\n                <p className=\"text-muted mb-1\">at {workshop.collegeName}</p>\n                <p className=\"text-muted mb-0\">\n                  {new Date(workshop.dateTime).toLocaleString()}\n                </p>\n              </div>\n              <button className=\"btn btn-outline-dark btn-sm\" onClick={handleCopyLink}>\n                {copied ? 'Copied!' : 'Copy Link'}\n              </button>\n            </div>\n\n            <form onSubmit={handleSubmit}>\n              <div className=\"mb-3\">\n                <label className=\"form-label fw-medium\">Rate this workshop</label>\n                <select\n                  className=\"form-select border-dark\"\n                  value={rating}\n                  onChange={(e) => setRating(e.target.value)}\n                  required\n                >\n                  <option value=\"\">Choose rating</option>\n                  <option value=\"5\">Excellent (5)</option>\n                  <option value=\"4\">Good (4)</option>\n                  <option value=\"3\">Average (3)</option>\n                  <option value=\"2\">Poor (2)</option>\n                  <option value=\"1\">Very Poor (1)</option>\n                </select>\n              </div>\n\n              <div className=\"mb-4\">\n                <label className=\"form-label fw-medium\">Suggestions (optional)</label>\n                <textarea\n                  className=\"form-control border-dark\"\n                  placeholder=\"Any improvements or feedback?\"\n                  rows={4}\n                  value={suggestion}\n                  onChange={(e) => setSuggestion(e.target.value)}\n                />\n              </div>\n\n              <button type=\"submit\" className=\"btn btn-warning fw-bold text-black w-100\">\n                Submit Feedback\n              </button>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FeedbackForm;\n"],"names":["FeedbackForm","id","useParams","workshop","setWorkshop","useState","loading","setLoading","submitted","setSubmitted","rating","setRating","suggestion","setSuggestion","copied","setCopied","useEffect","async","q","query","collection","db","where","snapshot","getDocs","empty","doc","docs","exists","data","active","_objectSpread","docId","error","console","fetchWorkshop","_jsx","className","children","_jsxs","style","maxWidth","width","height","fontSize","backgroundImage","concat","bannerImage","backgroundSize","backgroundPosition","borderBottom","textShadow","marginTop","workshopName","collegeName","Date","dateTime","toLocaleString","onClick","handleCopyLink","navigator","clipboard","writeText","window","location","href","toast","success","setTimeout","onSubmit","e","preventDefault","addDoc","submittedAt","serverTimestamp","value","onChange","target","required","placeholder","rows","type"],"sourceRoot":""}